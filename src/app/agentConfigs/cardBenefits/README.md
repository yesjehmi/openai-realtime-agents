# μΉ΄λ“ κ²€μƒ‰ μƒλ‹΄ μ—μ΄μ „νΈ

MCP(Model Context Protocol) μΉ΄λ“ κ²€μƒ‰ μ„λ²„λ¥Ό ν™μ©ν• μ‹¤μ‹κ°„ μμ„± μΉ΄λ“ μ •λ³΄ μƒλ‹΄ μ—μ΄μ „νΈμ…λ‹λ‹¤.

## π― νΉμ§•

- **μ‹¤μ‹κ°„ μμ„± λ€ν™”**: gpt-4o-realtime-preview λ¨λΈλ΅ μμ—°μ¤λ¬μ΄ μμ„± μƒνΈμ‘μ©
- **MCP μΉ΄λ“ κ²€μƒ‰**: localhost:8000μ MCP μΉ΄λ“ κ²€μƒ‰ μ„λ²„μ™€ μ—°κ²°ν•μ—¬ μ‹¤μ‹κ°„ μΉ΄λ“ μ •λ³΄ μ΅°ν
- **μ§€λ¥ν• μ§λ¬Έ λ¶„μ„**: μ‚¬μ©μ μ§λ¬Έ μ ν•μ„ μλ™ λ¶„μ„ν•μ—¬ μ μ ν• κ²€μƒ‰ λ°©λ²• μ„ νƒ
- **Chat-Supervisor ν¨ν„΄**: λΉ λ¥Έ μ‘λ‹µκ³Ό μ •ν™•ν• μ •λ³΄ μ κ³µμ„ μ„ν• μ΄μ¤‘ μ—μ΄μ „νΈ κµ¬μ΅°

## π— κµ¬μ΅°

### 1. Card Search Agent (Realtime)
- **μ—­ν• **: μ‚¬μ©μμ™€μ μ‹¤μ‹κ°„ μμ„± λ€ν™” λ‹΄λ‹Ή
- **λ¨λΈ**: gpt-4o-realtime-mini
- **κΈ°λ¥**: 
  - κΈ°λ³Έ μΈμ‚¬ λ° λ€ν™”
  - λ¨λ“  μΉ΄λ“ κ΄€λ ¨ μ§λ¬Έμ„ μλ™μΌλ΅ MCP μ„λ²„λ΅ μ „λ‹¬
  - μ§λ¬Έ μ ν• μλ™ λ¶„μ„

### 2. MCP Card Search Service
- **μ—­ν• **: μ§λ¬Έ μ ν•λ³„ μ μ ν• MCP λ„κµ¬ μ„ νƒ λ° μ‹¤ν–‰
- **κΈ°λ¥**:
  - μΉ΄λ“λ… κΈ°λ° κ²€μƒ‰ μ²λ¦¬
  - ννƒ κΈ°λ° κ²€μƒ‰ μ²λ¦¬
  - μ—°νλΉ„ κΈ°λ° κ²€μƒ‰ μ²λ¦¬

## π”§ MCP μΉ΄λ“ κ²€μƒ‰ μ„λ²„ μ—°λ™

### μ§€μ›ν•λ” MCP λ„κµ¬λ“¤:

1. **get_all_cards_with_name**
   - λ¨λ“  μΉ΄λ“μ μ΄λ¦„(name), URL, idxλ¥Ό κ°€μ Έμµλ‹λ‹¤
   - μΉ΄λ“λ…μΌλ΅ μ΅°νν•  λ• μ²« λ²μ§Έ λ‹¨κ³„λ΅ μ‚¬μ©

2. **get_available_benefit_keywords**
   - μ‚¬μ© κ°€λ¥ν• λ¨λ“  ννƒ ν‚¤μ›λ“ λ©λ΅μ„ λ°ν™ν•©λ‹λ‹¤
   - ννƒμΌλ΅ μ΅°νν•  λ• μ²« λ²μ§Έ λ‹¨κ³„λ΅ μ‚¬μ©

3. **search_cards_by_benefit**
   - ννƒ ν‚¤μ›λ“λ¥Ό κΈ°λ°μΌλ΅ μΉ΄λ“ κ²€μƒ‰
   - get_available_benefit_keywordsλ΅ ν™•μΈν• ν‚¤μ›λ“λ¥Ό μ‚¬μ©

4. **search_cards_by_annual_fee**
   - μ—°νλΉ„ κΈ°μ¤€μΌλ΅ μΉ΄λ“ κ²€μƒ‰
   - max_fee νλΌλ―Έν„°λ΅ μµλ€ μ—°νλΉ„ μ„¤μ • κ°€λ¥

5. **get_card_info**
   - νΉμ • μΉ΄λ“μ μƒμ„Έ μ •λ³΄(μ΄λ¦„, ννƒ)μ„ URLμ„ ν†µν•΄ κ°€μ Έμµλ‹λ‹¤
   - μΉ΄λ“λ… κΈ°λ° κ²€μƒ‰μ λ§μ§€λ§‰ λ‹¨κ³„

## π§  μ§λ¬Έ μ ν•λ³„ μ²λ¦¬ λ΅μ§

### 1. μΉ΄λ“λ…μΌλ΅ μ΅°νν•λ” κ²½μ°
- **ν”λ΅μ°**: get_all_cards_with_name β†’ LLMμ΄ λ§¤μΉ­ β†’ get_card_info
- **μμ‹**: "ν¬μΈνΈν”λ¬μ¤ μΉ΄λ“ μ •λ³΄ μ•λ ¤μ¤"
- **μ²λ¦¬**: 
  1. μ „μ²΄ μΉ΄λ“ λ©λ΅ μ΅°ν
  2. μ‚¬μ©μ μ§λ¬Έκ³Ό λ§¤μΉ­λλ” μΉ΄λ“ μ°ΎκΈ°
  3. ν•΄λ‹Ή μΉ΄λ“μ URLλ΅ μƒμ„Έ μ •λ³΄ μ΅°ν

### 2. ννƒμΌλ΅ μ΅°νν•λ” κ²½μ°
- **ν”λ΅μ°**: get_available_benefit_keywords β†’ LLMμ΄ λ§¤μΉ­ β†’ search_cards_by_benefit
- **μμ‹**: "μ§€ν•μ²  ν• μΈ μΉ΄λ“ μ°Ύμ•„μ¤"
- **μ²λ¦¬**:
  1. μ‚¬μ© κ°€λ¥ν• ννƒ ν‚¤μ›λ“ μ΅°ν
  2. μ‚¬μ©μ μ§λ¬Έκ³Ό λ§¤μΉ­λλ” ν‚¤μ›λ“ μ°ΎκΈ°
  3. ν•΄λ‹Ή ν‚¤μ›λ“λ΅ μΉ΄λ“ κ²€μƒ‰

### 3. μ—°νλΉ„λ΅ μ΅°νν•λ” κ²½μ°
- **ν”λ΅μ°**: search_cards_by_annual_fee
- **μμ‹**: "μ—°νλΉ„ 5λ§μ› μ΄ν• μΉ΄λ“ μ°Ύμ•„μ¤"
- **μ²λ¦¬**:
  1. μ—°νλΉ„ κΈ°μ¤€μΌλ΅ μΉ΄λ“ κ²€μƒ‰
  2. ν•΄λ‹Ή μ΅°κ±΄μ μΉ΄λ“ λ©λ΅ λ°ν™

## π”„ μ‚¬μ© ν”λ΅μ° μμ‹

### μΉ΄λ“λ… κ²€μƒ‰ ν”λ΅μ°
```
μ‚¬μ©μ: "ν¬μΈνΈν”λ¬μ¤ μΉ΄λ“ μ •λ³΄ μ•λ ¤μ¤"
1λ‹¨κ³„: get_all_cards_with_name() β†’ μ „μ²΄ μΉ΄λ“ λ©λ΅
2λ‹¨κ³„: LLMμ΄ "ν¬μΈνΈν”λ¬μ¤"μ™€ λ§¤μΉ­λλ” μΉ΄λ“ μ°ΎκΈ°
3λ‹¨κ³„: get_card_info(url) β†’ ν•΄λ‹Ή μΉ΄λ“ μƒμ„Έ μ •λ³΄
```

### ννƒ κ²€μƒ‰ ν”λ΅μ°
```
μ‚¬μ©μ: "μ§€ν•μ²  ν• μΈ μΉ΄λ“ μ°Ύμ•„μ¤"
1λ‹¨κ³„: get_available_benefit_keywords() β†’ ννƒ ν‚¤μ›λ“ λ©λ΅
2λ‹¨κ³„: LLMμ΄ "μ§€ν•μ² "κ³Ό λ§¤μΉ­λλ” ν‚¤μ›λ“ μ°ΎκΈ°
3λ‹¨κ³„: search_cards_by_benefit("μ§€ν•μ² ") β†’ ν•΄λ‹Ή ννƒ μΉ΄λ“ λ©λ΅
```

### μ—°νλΉ„ κ²€μƒ‰ ν”λ΅μ°
```
μ‚¬μ©μ: "μ—°νλΉ„ 5λ§μ› μ΄ν• μΉ΄λ“ μ°Ύμ•„μ¤"
1λ‹¨κ³„: search_cards_by_annual_fee(max_fee: 50000) β†’ μ—°νλΉ„ κΈ°μ¤€ μΉ΄λ“ λ©λ΅
```

## π€ μ‹μ‘ν•κΈ°

1. MCP μ„λ²„ μ‹¤ν–‰ (localhost:8000)
2. μ• ν”λ¦¬μΌ€μ΄μ… μ‹μ‘
3. μμ„±μΌλ΅ μΉ΄λ“ κ΄€λ ¨ μ§λ¬Έν•κΈ°

λ¨λ“  λ„κµ¬λ” http://127.0.0.1:8000/mcp/ μ—”λ“ν¬μΈνΈμ—μ„ μ‚¬μ©ν•  μ μμµλ‹λ‹¤!